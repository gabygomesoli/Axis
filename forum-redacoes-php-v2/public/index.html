<!DOCTYPE html>
<html lang="pt-br">
<head>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Dosis:wght@200..800&display=swap" rel="stylesheet">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Fórum de Redações (Folha de Almaço)</title>
  <style>
    :root {
    font-family: "Dosis", sans-serif;
    font-optical-sizing: auto;
    font-weight: weight;
    font-style: normal;
  }

    body {
      max-width: 980px;
      margin: 0 auto;
      padding: 1rem;
      background: #f6f7fb;
    }

    header, .card {
      background: #fff;
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0,0,0,.06);
      padding: 1rem;
      margin-bottom: 1rem;
    }

    .row {
      display: flex;
      gap: .5rem;
      align-items: center;
      flex-wrap: wrap;
    }

    input, textarea, button {
      padding: .6rem .8rem;
      border-radius: 10px;
      border: 1px solid #ddd;
    }

    button {
      background: #111827;
      color: #fff;
      border: none;
      cursor: pointer;
    }

    button.secondary {
      background: #e5e7eb;
      color: #111827;
    }

    .muted {
      color: #6b7280;
      font-size: .9rem;
    }

    .username {
      font-weight: 600;
    }

    .actions {
      display: flex;
      gap: .5rem;
      align-items: center;
    }

    .like-btn.liked {
      background: #2563eb;
      color: #fff;
    }

    .almaco {
      position: relative;
      background:
        linear-gradient(to bottom, rgba(0,0,0,0) 23px, #cfe8ff 24px) repeat-y,
        linear-gradient(to right, transparent 40px, #ff4d4d 41px, transparent 42px) no-repeat;
      background-size: 100% 24px, 100% 100%;
      border: 1px solid #e5e7eb;
      border-radius: 12px;
      padding: 16px 16px 16px 56px;
      font-family: "Dosis", sans-serif;
      font-size: 20px;
      white-space: pre-wrap;
      overflow: hidden;
      max-width: 66ch;
    }

    .almaco.preview {
      min-height: 720px;
    }

    .almaco.edit {
      resize: none;
      width: calc(66ch + 56px + 16px);
      height: calc(24px * 30 + 32px);
    }

    .title-input {
      width: 100%;
    }
  </style>
</head>

<body>
  <header class="row">
    <h1 style="margin:0">Fórum de Redações (Folha de Almaço)</h1>
    <div id="auth"></div>
  </header>

  <div class="card" id="compose" style="display:none">
    <h3>Nova redação</h3>
    <input id="essay-title" class="title-input" placeholder="Título da redação" />
    <div class="muted">
      Limite: <strong>30 colunas × 30 linhas</strong>. O texto será quebrado rigidamente no envio.
    </div>
    <textarea id="essay-content" class="almaco edit" cols="30" rows="30" wrap="hard" spellcheck="false" placeholder="Escreva aqui sua redação..."></textarea>
    
    <div class="row" style="justify-content:space-between; margin-top:.5rem;">
      <div class="muted">
        Caracteres: <span id="count-ch">0</span> • Linhas: <span id="count-ln">0</span>
      </div>
      <div class="row">
        <input id="search" placeholder="Buscar (ex.: from:@usuario assunto)" />
        <button class="secondary" id="btn-search">Buscar</button>
        <button id="btn-publish">Publicar redação</button>
      </div>
    </div>
  </div>

  <div class="card">
    <div class="row" style="justify-content:space-between; align-items:center;">
      <h3>Redações publicadas</h3>
      <div class="row">
        <button id="prev" class="secondary">« Anterior</button>
        <span class="muted" id="page-info"></span>
        <button id="next">Próxima »</button>
      </div>
    </div>
    <div id="essays"></div>
  </div>

  <script src="app.js"></script>
</body>
</html>
